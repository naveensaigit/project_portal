{% extends 'home/base.html' %}
{% block content %}

<style>
  body {
  background: #e5ded8;
  box-sizing: border-box;
}

.blog-container {
  background: #fff;
  border-radius: 5px;
  box-shadow: rgba(0, 0, 0, 0.2) 0 4px 2px -2px;
  font-family: "adelle-sans", sans-serif;
  font-weight: 100;
  margin: 48px auto;
  width: 20rem;
}
@media screen and (min-width: 480px) {
  .blog-container {
    width: 28rem;
  }
}
@media screen and (min-width: 767px) {
  .blog-container {
    width: 40rem;
  }
}
@media screen and (min-width: 959px) {
  .blog-container {
    width: 50rem;
  }
}

.blog-container a {
  color: #4d4dff;
  text-decoration: none;
  transition: 0.25s ease;
}
.blog-container a:hover {
  border-color: #ff4d4d;
  color: #ff4d4d;
}

.blog-cover {
  background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/17779/yosemite-3.jpg");
  background-size: cover;
  border-radius: 5px 5px 0 0;
  height: 15rem;
  box-shadow: inset rgba(0, 0, 0, 0.2) 0 64px 64px 16px;
}

.blog-author,
.blog-author--no-cover {
  margin: 0 auto;
  padding-top: 0.125rem;
  width: 80%;
}

.blog-author h3::before,
.blog-author--no-cover h3::before {
  background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/17779/russ.jpeg");
  background-size: cover;
  border-radius: 50%;
  content: " ";
  display: inline-block;
  height: 32px;
  margin-right: 0.5rem;
  position: relative;
  top: 8px;
  width: 32px;
}

.blog-author h3 {
  color: #fff;
  font-weight: 100;
}

.blog-author--no-cover h3 {
  color: #999999;
  font-weight: 100;
}

.blog-body {
  margin: 0 auto;
  width: 80%;
}

.video-body {
  height: 100%;
  width: 100%;
}

.blog-title h1 a {
  color: #333;
  font-weight: 100;
}

.blog-summary p {
  color: #4d4d4d;
}

.blog-tags ul {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  list-style: none;
  padding-left: 0;
}

.blog-tags li + li {
  margin-left: 0.5rem;
}

.blog-tags a {
  border: 1px solid #999999;
  border-radius: 3px;
  color: #999999;
  font-size: 0.75rem;
  height: 1.5rem;
  line-height: 1.5rem;
  letter-spacing: 1px;
  padding: 0 0.5rem;
  text-align: center;
  text-transform: uppercase;
  white-space: nowrap;
  width: 5rem;
}

.blog-footer {
  border-top: 1px solid #e6e6e6;
  margin: 0 auto;
  padding-bottom: 0.125rem;
  width: 80%;
}

.blog-footer ul {
  list-style: none;
  display: flex;
  flex: row wrap;
  justify-content: flex-end;
  padding-left: 0;
}

.blog-footer li:first-child {
  margin-right: auto;
}

.blog-footer li + li {
  margin-left: 0.5rem;
}

.blog-footer li {
  color: #999999;
  font-size: 0.75rem;
  height: 1.5rem;
  letter-spacing: 1px;
  line-height: 1.5rem;
  text-align: center;
  text-transform: uppercase;
  position: relative;
  white-space: nowrap;
}
.blog-footer li a {
  color: #999999;
}

.comments {
  margin-right: 1rem;
}

.published-date {
  border: 1px solid #999999;
  border-radius: 3px;
  padding: 0 0.5rem;
}

.numero {
  position: relative;
  top: -0.5rem;
}

.icon-star,
.icon-bubble {
  fill: #999999;
  height: 24px;
  margin-right: 0.5rem;
  transition: 0.25s ease;
  width: 24px;
}
.icon-star:hover,
.icon-bubble:hover {
  fill: #ff4d4d;
}
</style>
    {% if messages %}
        {% for message in messages %}
            <div class="card-header py-3" >{{message}}</div>
        {% endfor %}
    {% endif %}


<!-- ============================================================================== -->
<svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-bubble" viewBox="0 0 1024 1024">
	<title>bubble</title>
	<path class="path1" d="M512 224c8.832 0 16 7.168 16 16s-7.2 16-16 16c-170.464 0-320 89.728-320 192 0 8.832-7.168 16-16 16s-16-7.168-16-16c0-121.408 161.184-224 352-224zM512 64c-282.784 0-512 171.936-512 384 0 132.064 88.928 248.512 224.256 317.632 0 0.864-0.256 1.44-0.256 2.368 0 57.376-42.848 119.136-61.696 151.552 0.032 0 0.064 0 0.064 0-1.504 3.52-2.368 7.392-2.368 11.456 0 16 12.96 28.992 28.992 28.992 3.008 0 8.288-0.8 8.16-0.448 100-16.384 194.208-108.256 216.096-134.88 31.968 4.704 64.928 7.328 98.752 7.328 282.72 0 512-171.936 512-384s-229.248-384-512-384zM512 768c-29.344 0-59.456-2.24-89.472-6.624-3.104-0.512-6.208-0.672-9.28-0.672-19.008 0-37.216 8.448-49.472 23.36-13.696 16.672-52.672 53.888-98.72 81.248 12.48-28.64 22.24-60.736 22.912-93.824 0.192-2.048 0.288-4.128 0.288-5.888 0-24.064-13.472-46.048-34.88-56.992-118.592-60.544-189.376-157.984-189.376-260.608 0-176.448 200.96-320 448-320 246.976 0 448 143.552 448 320s-200.992 320-448 320z"></path>
</symbol>
<symbol id="icon-star" viewBox="0 0 1024 1024">
	<title>star</title>
	<path class="path1" d="M1020.192 401.824c-8.864-25.568-31.616-44.288-59.008-48.352l-266.432-39.616-115.808-240.448c-12.192-25.248-38.272-41.408-66.944-41.408s-54.752 16.16-66.944 41.408l-115.808 240.448-266.464 39.616c-27.36 4.064-50.112 22.784-58.944 48.352-8.8 25.632-2.144 53.856 17.184 73.12l195.264 194.944-45.28 270.432c-4.608 27.232 7.2 54.56 30.336 70.496 12.704 8.736 27.648 13.184 42.592 13.184 12.288 0 24.608-3.008 35.776-8.992l232.288-125.056 232.32 125.056c11.168 5.984 23.488 8.992 35.744 8.992 14.944 0 29.888-4.448 42.624-13.184 23.136-15.936 34.88-43.264 30.304-70.496l-45.312-270.432 195.328-194.944c19.296-19.296 25.92-47.52 17.184-73.12zM754.816 619.616c-16.384 16.32-23.808 39.328-20.064 61.888l45.312 270.432-232.32-124.992c-11.136-6.016-23.424-8.992-35.776-8.992-12.288 0-24.608 3.008-35.744 8.992l-232.32 124.992 45.312-270.432c3.776-22.56-3.648-45.568-20.032-61.888l-195.264-194.944 266.432-39.68c24.352-3.616 45.312-18.848 55.776-40.576l115.872-240.384 115.84 240.416c10.496 21.728 31.424 36.928 55.744 40.576l266.496 39.68-195.264 194.912z"></path>
</symbol>
</defs>
</svg>




<div class="blog-container">
  <br>

  <div class="blog-header">




    <div class="blog-author--no-cover">

      {% if project.FloatedBy == user %}
    <div style="display: inline;" align="center;padding-right:10px;" >
          <div style="float: right;">

                  <a href="{% url 'delete-project' project.id %}" class="btn btn-danger btn-circle">
                                        <i class="fas fa-trash" style="color:white;"></i>
                                    </a>

          </div>
          <div style="float: right; padding-right:10px;">
                <a href="{% url 'update-project' project.id %}" ><button class="btn btn-primary btn-user btn-block" style="display: inline-block;">UPDATE PROJECT</button></a>
         </div>
    </div>
    <br>
    <br>
    <br>
    {% endif %}




        <h3>{{ project.FloatedBy }}</h3>
    </div>
    <br>
  </div>

  <div class="blog-body">
    <div class="blog-title">
      <h1>{{ project.Title }}</h1>
    </div>
    <div class="blog-summary">
      <p>{{ project.Description }}</p>
    </div>
    <div class="blog-tags">
      <ul>
        <li><a href="#">{{ project.Status }}</a></li>
        <li><a href="#">{{ project.Difficulty }}</a></li>

      </ul>
    </div>
  </div>

  <div class="blog-footer">
    <br>
    <div class="blog-summary">
      <p><b>Duration:     </b>{{ project.Duration }}</p>
        <p><b>Mentors:     </b>{% for users in project.Mentors.all %}           {{ users }}      {% endfor %}       {% if project.Mentors.all.count == 0 %}            No one		{% endif %}</p>
          <p><b>Selection Criteria:     </b>{{ project.SelectionCriteria }}</p>

          <p><b>Opened for:     </b>{{project.OpenedFor}}</p>

              <p><b>Pre requisites:     </b>{{ project.PreRequisite }}</p>
                  <p><b>Already Applied:</b>  {% for users in project.AlreadyApplied.all %}
                        {{ users }}
                    {% endfor %}
                    {% if project.AlreadyApplied.all.count == 0 %}
                        No one
            		{% endif %}</p>



    </div>
    <ul>

      <li class="published-date">{{ project.DatePosted }}</li>


      <li class="shares">  {% if project.id not in user_starred_projects_id %}
        <a href="#"><button
            class="btn btn-primary btn-user btn-block"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
            </svg></button></a>
        {% else %}
        <a href="#"><button
            class="btn btn-primary btn-user btn-block"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg></button></a>
        {% endif %}</li>
    </ul>

    <br>
    <hr>
    {% if project.id in user_requested_projects_id %}
    <a href="#"><button
            class="btn btn-primary btn-user btn-block" style="width:100%%; ">Withdraw Request</button></a>
    {% else %}
    {% if project.id not in user_projects_id %}
    <a href="#"><button
            class="btn btn-primary btn-user btn-block" style="width:100%%; ">Apply</button></a>
    {% else %}
    <a href="#"><button
            class="btn btn-primary btn-user btn-block" style="width:100%%; ">Leave</button></a>
    {% endif %}
    {% endif %}


  </div>


</div>



<script type="text/javascript" src="//use.typekit.net/wtt0gtr.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

<!-- ================================================================================== -->






  {% if project.FloatedBy == user %}

<div class="card shadow mb-4">
        <div class="card-header py-3">
           <h3>Project Apply Requests:</h3>
        </div>
        <div class="card-body" >
       {% for request_user in apply_requests %}
            <div>
                {{request_user}} -
                <a href="{% url 'accept-project' project.id request_user %}"><button class="btn btn-primary btn-user btn-block" style="width: 30%; ">ACCEPT</button></a>
                <a href="{% url 'reject-project' project.id request_user %}"><button class="btn btn-primary btn-user btn-block" style="width: 30%; ">REJECT</button></a>
            </div>
		{% endfor %}
		{% if apply_requests.count == 0 %}
            <div style="color:black; font-size:20px;"> No requests </div>
		{% endif %}

        </div>
</div>


    {% endif %}
{% endblock content %}
